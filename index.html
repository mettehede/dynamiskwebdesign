<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Chapter</title>
    <link rel="stylesheet" href="index.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Frank+Ruhl+Libre:wght@300;400;700&family=Montserrat:ital,wght@0,400;1,300&display=swap" rel="stylesheet">

</head>

<header>
    <nav id="nav" class="nav_hide">
        <div id="menuburger">☰</div>
        <a href="forside.html"> <img id="logo" src="logo.png" alt="logo"></a>
        <ul id="menu" class="hidden">
            <li><a href="">HJEM</a></li>
            <li><a href="">BØGER</a></li>
            <li><a href="">OM OS</a></li>
        </ul>
    </nav>
</header>

<body>
    <main>
        <div class="baggrund"></div>
        <section id="splash">

            <div id="anmeldelse_slideshow">
                <div class="anmeldelse">
                    <a class="tilbage" onclick="plusSlides(-1)">❮</a>
                    <a class="frem" onclick="plusSlides(1)">❯</a>
                    <div class="venstre">
                        <h1>“En intim og magtfuld memoir af den tidligere førstedame af De Forenede Stater”</h1>
                        <h2>Min historie af Michelle Obama</h2>
                        <button class="laes_mere">Læs mere</button>
                    </div>
                    <img src="min-historie.jpg" alt="">
                </div>

                <div class="anmeldelse">
                    <a class="tilbage" onclick="plusSlides(-1)">❮</a>
                    <a class="frem" onclick="plusSlides(1)">❯</a>
                    <div class="venstre">
                        <h1>“Forbered dig selv på den mest rørende, foruroligende og dybtgående bog i mange sæsoner.”</h1>
                        <h2>A Little Life af Hanya Yanagihari</h2>
                        <button class="laes_mere">Læs mere</button>
                    </div>
                    <img src="A_Little_LIfe.jpg" alt="">
                </div>

                <div class="anmeldelse">
                    <a class="tilbage" onclick="plusSlides(-1)">❮</a>
                    <a class="frem" onclick="plusSlides(1)">❯</a>
                    <div class="venstre">
                        <h1>“En intim og magtfuld memoir af den tidligere førstedame af De Forenede Stater”</h1>
                        <h2>Min historie af Michelle Obama</h2>
                        <button class="laes_mere">Læs mere</button>
                    </div>
                    <img src="min-historie.jpg" alt="">
                </div>

                <div class="anmeldelse">
                    <a class="tilbage" onclick="plusSlides(-1)">❮</a>
                    <a class="frem" onclick="plusSlides(1)">❯</a>
                    <div class="venstre">
                        <h1>“Forbered dig selv på den mest rørende, foruroligende og dybtgående bog i mange sæsoner.”</h1>
                        <h2>A Little Life af Hanya Yanagihari</h2>
                        <button class="laes_mere">Læs mere</button>
                    </div>
                    <img src="A_Little_LIfe.jpg" alt="">
                </div>

            </div>
        </section>



        <h2>nyheder</h2>
        <section id="nyheder">
            <div class="artikel_nyheder">
                <a class="tilbage" onclick="nyhederSlides(-1)">❮</a>
                <a class="frem" onclick="nyhederSlides(1)">❯</a>

                <article>
                    <img src="A_Little_LIfe.jpg" alt="">
                    <p class="titel">A little life</p>
                    <p class="forfatter">Hanya Yanagihara</p>
                    <p class="pris">DKK 149,95</p>
                </article>

                <article>
                    <img src="A_Little_LIfe.jpg" alt="">
                    <p class="titel">A little life</p>
                    <p class="forfatter">Hanya Yanagihara</p>
                    <p class="pris">DKK 149,95</p>
                </article>

                <article>
                    <img src="A_Little_LIfe.jpg" alt="">
                    <p class="titel">A little life</p>
                    <p class="forfatter">Hanya Yanagihara</p>
                    <p class="pris">DKK 149,95</p>
                </article>

                <article class="artikel4">
                    <img src="A_Little_LIfe.jpg" alt="">
                    <p class="titel">A little life</p>
                    <p class="forfatter">Hanya Yanagihara</p>
                    <p class="pris">DKK 149,95</p>
                </article>

            </div>

            <article class="artikel_nyheder">
                <a class="tilbage" onclick="nyhederSlides(-1)">❮</a>
                <a class="frem" onclick="nyhederSlides(1)">❯</a>

                <article>
                    <img src="min-historie.jpg" alt="">
                    <p class="titel">A little life</p>
                    <p class="forfatter">Hanya Yanagihara</p>
                    <p class="pris">DKK 149,95</p>
                </article>

                <article>
                    <img src="A_Little_LIfe.jpg" alt="">
                    <p class="titel">A little life</p>
                    <p class="forfatter">Hanya Yanagihara</p>
                    <p class="pris">DKK 149,95</p>
                </article>

                <article>
                    <img src="A_Little_LIfe.jpg" alt="">
                    <p class="titel">A little life</p>
                    <p class="forfatter">Hanya Yanagihara</p>
                    <p class="pris">DKK 149,95</p>
                </article>

                <article>
                    <img src="A_Little_LIfe.jpg" alt="">
                    <p class="titel">A little life</p>
                    <p class="forfatter">Hanya Yanagihara</p>
                    <p class="pris">DKK 149,95</p>
                </article>
            </article>

        </section>


        <h2>bestsellers</h2>
        <section id="bestsellers">
            <div class="artikel_bestsellers">
                <a class="tilbage" onclick="bestsellersSlides(-1)">❮</a>
                <a class="frem" onclick="bestsellersSlides(1)">❯</a>

                <article>
                    <img src="A_Little_LIfe.jpg" alt="">
                    <p class="titel">A little life</p>
                    <p class="forfatter">Hanya Yanagihara</p>
                    <p class="pris">DKK 149,95</p>
                </article>

                <article>
                    <img src="A_Little_LIfe.jpg" alt="">
                    <p class="titel">A little life</p>
                    <p class="forfatter">Hanya Yanagihara</p>
                    <p class="pris">DKK 149,95</p>
                </article>

                <article>
                    <img src="A_Little_LIfe.jpg" alt="">
                    <p class="titel">A little life</p>
                    <p class="forfatter">Hanya Yanagihara</p>
                    <p class="pris">DKK 149,95</p>
                </article>

                <article class="artikel4">
                    <img src="A_Little_LIfe.jpg" alt="">
                    <p class="titel">A little life</p>
                    <p class="forfatter">Hanya Yanagihara</p>
                    <p class="pris">DKK 149,95</p>
                </article>

            </div>

            <article class="artikel_bestsellers">
                <a class="tilbage" onclick="bestsellersSlides(-1)">❮</a>
                <a class="frem" onclick="bestsellersSlides(1)">❯</a>

                <article>
                    <img src="min-historie.jpg" alt="">
                    <p class="titel">A little life</p>
                    <p class="forfatter">Hanya Yanagihara</p>
                    <p class="pris">DKK 149,95</p>
                </article>

                <article>
                    <img src="A_Little_LIfe.jpg" alt="">
                    <p class="titel">A little life</p>
                    <p class="forfatter">Hanya Yanagihara</p>
                    <p class="pris">DKK 149,95</p>
                </article>

                <article>
                    <img src="A_Little_LIfe.jpg" alt="">
                    <p class="titel">A little life</p>
                    <p class="forfatter">Hanya Yanagihara</p>
                    <p class="pris">DKK 149,95</p>
                </article>

                <article>
                    <img src="A_Little_LIfe.jpg" alt="">
                    <p class="titel">A little life</p>
                    <p class="forfatter">Hanya Yanagihara</p>
                    <p class="pris">DKK 149,95</p>
                </article>
            </article>
        </section>

    </main>

    <footer>
        <h5>New Chapter © 2021</h5>
        <hr>
        <div class="ikoner">
            <div class="instagram">
                <img src="ikoner/instagram.png" alt="instagram">
            </div>
            <div class="facebook">
                <img src="ikoner/facebook.png" alt="facebook">
            </div>
        </div>


    </footer>

    <script>
        //kodning til menu
        window.addEventListener("load", sidenVises);

        function sidenVises() {
            console.log("sidenVises");
            document.querySelector("#menuburger").addEventListener("click", toggelmenu);
        }

        function toggelmenu() {
            console.log("toggelmenu");
            document.querySelector("#menu").classList.toggle("hidden");
            document.querySelector("#nav").classList.toggle("nav_hide");

            let erSkjult = document.querySelector("#menu").classList.contains("hidden");

            if (erSkjult == true) {
                document.querySelector("#menuburger").textContent = "☰";
            } else {
                document.querySelector("#menuburger").textContent = "X";
            }
        }

        // Kodning til splash slideshow
        let slideNummer = 1;

        visSlides(slideNummer);

        function plusSlides(n) {
            visSlides(slideNummer += n);
        }

        function visSlides(n) {
            let i;
            let slides = document.getElementsByClassName("anmeldelse");
            if (n > slides.length) {
                slideNummer = 1
            }
            if (n < 1) {
                slideNummer = slides.length
            }
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }

            slides[slideNummer - 1].style.display = "grid";
        }

        // Kodning til nyheder slideshow

        visNyhederSlides(slideNummer);

        function nyhederSlides(n) {
            visNyhederSlides(slideNummer += n);
        }

        function visNyhederSlides(n) {
            let Nyhederslides = document.getElementsByClassName("artikel_nyheder");
            if (n > Nyhederslides.length) {
                slideNummer = 1
            }
            if (n < 1) {
                slideNummer = Nyhederslides.length
            }
            for (i = 0; i < Nyhederslides.length; i++) {
                Nyhederslides[i].style.display = "none";
            }

            Nyhederslides[slideNummer - 1].style.display = "grid";
        }

        // Kodning til bestseller slideshow
        visBestsellersSlides(slideNummer);

        function bestsellersSlides(n) {
            visBestsellersSlides(slideNummer += n);
        }

        function visBestsellersSlides(n) {
            let Bestsellersslides = document.getElementsByClassName("artikel_bestsellers");
            if (n > Bestsellersslides.length) {
                slideNummer = 1
            }
            if (n < 1) {
                slideNummer = Bestsellersslides.length
            }
            for (i = 0; i < Bestsellersslides.length; i++) {
                Bestsellersslides[i].style.display = "none";
            }

            Bestsellersslides[slideNummer - 1].style.display = "grid";
        }

        const url = "https://newchapter-47b9.restdb.io/rest/books";
        const medieurl = "https://newchapter-47b9.restdb.io/home/media";

        const options = {
            headers: {
                'x-apikey': "21f163f0353ff7aee772cc0c61d0c5706f340"
            }
        };
        const header = document.querySelector("h2");

        document.addEventListener("DOMContentLoaded", start);
        let retter;
        let filter = "alle";

        function start() {
            const filterKnapper = document.querySelectorAll("nav button");
            filterKnapper.forEach(knap => knap.addEventListener("click", filtrerRetter));
            hentData();
        }

        function filtrerRetter() {
            filter = this.dataset.kategori;
            document.querySelector(".valgt").classList.remove("valgt");
            this.classList.add("valgt");
            header.textContent = this.textContent;
            visRetter();
        }


        async function hentData() {
            const respons = await fetch(url, options);
            retter = await respons.json();
            console.log("mad", retter)
            visRetter();
        }


        function visRetter() {

            const container = document.querySelector("section");
            const temp = document.querySelector("template").content;

            container.textContent = "";

            retter.forEach(mad => {
                if (filter == mad.kategori || filter == "alle") {
                    const klon = temp.cloneNode(true);
                    klon.querySelector(".billede").src = medieurl + mad.billede;
                    klon.querySelector(".navn").textContent = mad.navn;
                    klon.querySelector(".pris").textContent = (`Pris: ${mad.pris},-`);
                    klon.querySelector(".mad").addEventListener("click", () => visDetaljer(mad));
                    container.appendChild(klon);
                }
            })
        }

    </script>
</body>

</html>
